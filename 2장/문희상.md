# Part2. AI로 더 편리한 서비스 만들기

### LLM의 가장 큰 장점
- 텍스트를 사람처럼 잘 이해할 수 있다
- 사람처럼 자연스러운 말을 구사할 수 있다
-> AI를 활용한다는 것에만 매몰되어 현실의 문제와 동떨어진 것을 고민하는 것은 경계해야 한다

---
## 메뉴 및 가게 추천

### 배민의 문제 - 메뉴 및 가게 추천
- 절반 이상의 사용자가 메뉴만 결정한 상태로 앱을 이용하고
- 1/3 정도는 메뉴와 가게 모두 정하지 않고 앱에 접속
-> 메뉴에 맞는 가게 추천 or 메뉴 선택 + 가게 선택까지 추천한다면??

### 해결과정 - 메뉴 및 가게 추천
'리뷰 데이터'
- 추천을 위해 사용할 수 있는 데이터에는 리뷰 데이터가 있다
- 다만 부적절한 개인정보 노출이 없어야 하고, 권리 침해 소지가 있는 내용은 필터링 되어 사용해야 한다
- 따라서, 리뷰 데이터를 제외하거나 전처리하는 과정이 필요
- 예를 들어, 국물 떡볶이라면 '퇴근길', '스트레스', '매운', '맥주' 같은 유용한 정보를 추려서 사용
- 의미 있는 단위로 청킹 -> 각 청크 내용 추출 -> 각각의 청크가 해당하는 카테고리 -> 기존의 키워드와 유사한 표현 체크(성능 높은 모델로)

---

## 메뉴 이미지 품질 검수

### 배민의 문제 - 메뉴 이미지 품질 검수
- 사장님들은 '배민셀프서비스'를 통해 이미지 등록 및 관리
- 일일 최소 1만 건 이상의 검수 요청으로 많은 리소스 발생
- 메뉴 이미지 반려 기준은 너무 많고 각각의 머신러닝 모델을 구축하기에는 학습 데이터가 부족,,
- 다만 프롬프트 엔지니어링으로 유연하게 대처할 수 있을 것이라 기대

### 해결 과정 - 메뉴 이미지 품질 검수

#### 프롬프트 엔지니어링
1. 구체적인 프롬프트 작성
- 상황과 형식을 명확히 제시하면 고품질 응답 제공
2. 프롬프트 일반화
- 프롬프트를 너무 구체화하면 예외 케이스를 놓칠 수 있다
- 에를 들어, 워터마크처럼 합성된 글씨가 있는지 판단하세요 -> 워터마크는 잘 잡지만 다른 합성 텍스트는 놓칠 수 있다 -> '처럼' 대신 '같이'
- 즉 너무 좁은 범위로 한정하면 다른 목표에 대한 성능이 저하되는 트레이드오프 발생 -> 지속적인 평가 필요
3. 성능 평가
- 구글 스프레드시트로 대시보드 구성 -> 오검수 항목의 비중 체크

#### 응답 최적화
1. 구조화된 응답 유도
- JSON 형식으로 포매팅해 반환하도록 적용
2. 생성 지식 프롬프트
- 일관되게 응답하지 않는 문제
- 2단계로 나눠서 설명을 생성한 후 -> 검수 기준에 맞는 응답 포맷팅
3. Latency 최적화
- Input 프롬프트 내용을 줄이고, 응답 사유를 최대한 간단하게 반환시겨 60% 감축

#### 프롬프트 구조와 형식 개선
1. 이미지와 텍스트 순서 조정
- 이미지와 텍스트를 함께 사용할 때는 이미지를 먼저 배치할 때의 응답 정확도가 향상
2. 마크다운과 코드 스타일 활용
- 프롬프트 구조화를 위한 마크다운
- 중요한 내용 강조를 위해 헤더(#)을 통해 섹션 구분
- 여러 정보나 정책 항목을 나열할 때는 목록 형태로 표시
- 파이썬의 딕셔너리처럼 프롬프트 구성
- 응답시간, 일관성, 정확도 향상되고 관리도 쉽다

### GPT 한계
#### '과도한 확대' 정책
- 이미지의 특정 영역 안에 주요한 음식이나 음료가 올바르게 포함
- 다만 성능 부족으로 인한 정확도 저하
- 배민 내부 데이터 기반으로 자체 학습 모델을 사용해 해결

#### '저작권/상표권/초상권' 정책
- 최신 케릭터나 상표의 경우 감지 불가
- 운영자 검수 프로세스 추가해 직접 검수 처리

---

### 느낀점
- 모델의 성능이 지속적으로 향상되면서 만들어 낼 수 있는 기능의 수준이 계속해서 향상된다
- 업데이트 될 때마다 사용해보고 어떤 문제에 활용해 볼 수 있는 자세가 중요할 것 같다
- 프롬프트 -> RAG -> 머신러닝 모델 개발 순으로 생각해보자

---

## 배민선물하기 AI 메시지
- 선물 메시지 작성에 어려움을 겪는 고객을 위해 시작

1. AI 성격 정의
- '역할 부여'는 필수!
- 예시, '재기 발랄한 농담으로 사람들을 웃기는 코미디언'
2. Few-shot Learning
- 적은 수의 학습 샘플로 새로운 작업을 일반화
- '배민신춘문예' 수상작 문장 사용 -> 지피지기 백전백숙
3. 올바르게 훈육하기
- 선넘는 농담 위험 존재
- 인신공격, 사용 불가 콘첸츠 지침 적용

-> 결과적으로 13% 유저가 사용

---







